var gradient=function(){var t={hue:0,hueDistance:0,saturation:0,lightness:0,angle:0},e="input",a={};function n(t){a=t,n.prototype.callback=a.callback,function(t){for(var a in t){var n=document.querySelector(t[a]);switch(a){case"hue":n.addEventListener(e,r,!1);break;case"hueDistance":n.addEventListener(e,o,!1);break;case"saturation":n.addEventListener(e,i,!1);break;case"lightness":n.addEventListener(e,u,!1);break;case"angle":n.addEventListener(e,c,!1);break;default:throw new Error("Type not found!")}}}(a.inputs)}function r(e){t.hue=e.target.value,n.prototype.callback(t)}function o(e){t.hueDistance=e.target.value,n.prototype.callback(t)}function i(e){t.saturation=e.target.value,n.prototype.callback(t)}function u(e){t.lightness=e.target.value,n.prototype.callback(t)}function c(e){t.angle=e.target.value,n.prototype.callback(t)}return n.prototype.init=function(){for(var e in a.inputs){var r=document.querySelector(a.inputs[e]);if(null===t.i)throw new Error("Type not found!");t.i=r.value}n.prototype.callback(t)},n.prototype.setValues=function(e){t=e,n.prototype.callback(t)},n.prototype.getString=function(){return`linear-gradient(${t.angle}deg, hsl(${t.hue}, ${t.saturation}%, ${t.lightness}%), hsl(${t.hue-t.hueDistance}, ${t.saturation}%, ${t.lightness}%))`},n}();;var gradient=new gradient({inputs:{hue:"#input_hue",hueDistance:"#input_hueDistance",saturation:"#input_saturation",lightness:"#input_lightness",angle:"#input_angle"},callback:function(e){var t=gradient.getString();e.lightness<30?(preview_text.style.color="#fff",document.querySelectorAll("label").forEach(function(e){e.style.color="#fff"})):(preview_text.style.color="#000",document.querySelectorAll("label").forEach(function(e){e.style.color="#000"})),preview.style.background=t,preview_text.value=`background: ${t};`,input_hue.value=label_hue.value=e.hue,input_hueDistance.value=label_hueDistance.value=e.hueDistance,input_saturation.value=label_saturation.value=e.saturation,input_lightness.value=label_lightness.value=e.lightness,input_angle.value=label_angle.value=e.angle}});function getRndInteger(e,t){return Math.floor(Math.random()*(t-e))+e}gradient.init();var randomize=function(){gradient.setValues({hue:getRndInteger(0,180),hueDistance:getRndInteger(45,90),saturation:getRndInteger(40,80),lightness:getRndInteger(30,75),angle:getRndInteger(0,360)})};randomize();var flipPanel=function(){flipper.classList.toggle("flipped")},copySnippet=function(){const e=document.createElement("textarea");document.body.appendChild(e),e.value=document.getElementById("preview_text").value,e.select(),document.execCommand("copy"),document.body.removeChild(e)};function make_gradient(e,t,n,a,l,u,i){var o=document.createElement("canvas");o.id="GradientTemp";w=960,h=540,x=w+Math.cos(e)*w,y=h-Math.sin(e)*h,X=w-Math.cos(e)*w,Y=h+Math.sin(e)*h,o.width=1920,o.height=1080;var r=o.getContext("2d"),d=r.createLinearGradient(x,y,X,Y);return d.addColorStop(0,"hsl("+t+", "+n+"%, "+a+"%)"),d.addColorStop(1,"hsl("+l+", "+u+"%, "+i+"%)"),r.fillStyle=d,r.fillRect(0,0,1920,1080),o}function make_image(e,t,n,l,u,i,o){canvas=make_gradient(e,t,n,l,u,i,o);for(var r=canvas.toDataURL("image/png"),d=atob(r.substring("data:image/png;base64,".length)),c=new Uint8Array(d.length),g=0,s=d.length;g<s;++g)c[g]=d.charCodeAt(g);var h=new Blob([c.buffer],{type:"image/png"});url=(window.webkitURL||window.URL).createObjectURL(h),a=document.createElement("a"),document.body.appendChild(a),a.download="gradient_"+Date.now(),a.href=url,a.click(),setTimeout(function(){document.body.removeChild(a),window.URL.revokeObjectURL(url),canvas.remove()},100)}function download_gradient(){angle=document.getElementById("label_angle").value,h1=document.getElementById("label_hue").value,h2=document.getElementById("label_hue").value-document.getElementById("label_hueDistance").value,l1=document.getElementById("label_lightness").value,l2=document.getElementById("label_lightness").value,s1=document.getElementById("label_saturation").value,s2=document.getElementById("label_saturation").value,make_image(angle,h1,s1,l1,h2,s2,l2)}